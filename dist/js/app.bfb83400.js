(function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)i=s[d],o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/task-man/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02d8":function(t,e,n){"use strict";var r=n("48d5"),o=n.n(r);o.a},"1cfe":function(t,e,n){"use strict";var r=n("3777"),o=n.n(r);o.a},"1db6":function(t,e,n){},"355f":function(t,e,n){"use strict";var r=n("1db6"),o=n.n(r);o.a},3777:function(t,e,n){},"48d5":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{staticStyle:{"background-color":"#e0e0e0"}},[n("router-view",{staticStyle:{"min-height":"100%"},attrs:{gapiOn:t.gapiOn,driveOn:t.driveOn,projects:t.projects,prefs:t.prefs,allProjects:t.allProjects},on:{"sign-in":t.signIn,"sign-out":t.signOut}})],1)},a=[],i=(n("96cf"),n("3b8d")),s=document.createElement("script");s.src="https://apis.google.com/js/client.js";var c=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],u="1084798610915-ugdr3ivf8b6nqqsba6fb6lm4oeso90af.apps.googleusercontent.com",l="profile email https://www.googleapis.com/auth/drive.file",d={script:s,discoveryDocs:c,clientId:u,scope:l},p=function(t,e,n){var r=function(t){t?e():n()},o=function(){t.auth2.getAuthInstance().signIn()},a=function(){t.auth2.getAuthInstance().signOut()};return t.auth2.getAuthInstance().isSignedIn.listen(r),r(t.auth2.getAuthInstance().isSignedIn.get()),{signIn:o,signOut:a}},f=p,v=(n("7514"),n("5df3"),n("ac6a"),n("20d6"),function(t,e){var n={id:t,listId:e,title:"New Task",body:"",color:0,due:null};return n}),h=v,m=function(t){var e=t.id,n=t.title,r=t.notes,o=t.nextNote,a={id:e,title:n||"New List",notes:r||[],nextNote:o||1,newNote:function(){var t="".concat(this.id,"-").concat(this.nextNote),e=h(t,this.id);return this.notes.push(e),this.nextNote+=1,e},delNote:function(t){var e=this.notes.findIndex(function(e){return e.id===t});return this.notes.splice(e,1)[0]},save:function(){return{id:this.id,title:this.title,notes:this.notes,nextNote:this.nextNote}}};return a},g=m,b=function(t){var e=t.id,n=t.title,r=t.created,o=t.updated,a=t.nextList,i=t.lists,s={title:n||"New Project",created:r||Date.now(),updated:o||Date.now(),lists:i?i.map(function(t){return g(t)}):[g({id:1})],nextList:a||2};s.id=e||"".concat(s.created,"-").concat(Math.floor(1001*Math.random())),s.newList=function(){var t=g({id:s.nextList});return s.lists.push(t),s.nextList+=1,t};var c=function(t){return s.lists.find(function(e){return e.id===t})};return s.trimLists=function(){while(s.lists.length>1&&0===s.lists[s.lists.length-1].notes.length)s.lists.pop()},s.moveNote=function(t,e){var n=c(t.listId).delNote(t.id),r=e?c(e):s.newList();r.notes.push(n),n.listId=r.id,s.trimLists()},s.noteDone=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=s.lists.findIndex(function(e){return e.id===t.listId}),r=n+e;r<0&&(r=0),r>=s.lists.length&&s.newList(),s.moveNote(t,s.lists[r].id)},s.save=function(){var t={id:s.id,title:s.title,created:s.created,updated:s.updated,nextList:s.nextList,lists:s.lists.map(function(t){return t.save()})};return t},s},w=b,x=function(){var t=["p0","p1","p2"],e=function(){for(var e=[],n=0;n<t.length;n+=1)localStorage[t[n]]&&e.push(localStorage[t[n]]);return e.map(function(t){return JSON.parse(t)})},n=function(e){e.forEach(function(e,n){localStorage[t[n]]=JSON.stringify(e)})},r=function(){t.forEach(function(t){localStorage.removeItem(t)})},o=function(t){var o=e().filter(function(e){return e.id!==t});r(),n(o)},a=function(t){var r=e(),o=r.findIndex(function(e){return e.id===t.id});o>=0&&r.splice(o,1),r.unshift(t),n(r.slice(0,3))};return{read:e,destroy:o,update:a}},y=x,k=(n("7f7f"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=0,r=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){setTimeout(t,e)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),o=function(){var a=Object(i["a"])(regeneratorRuntime.mark(function a(i,s){var c,u,l,d,p,f,v;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(c=i.url,u=i.options,l=i.immediate,d=s||1,!(s>e)){a.next=4;break}throw new Error("max retries reached: ".concat(u.method," ").concat(c));case 4:if(p=t*d+Math.floor(51*Math.random()),n+=p,l){a.next=11;break}return a.next=9,r(n);case 9:a.next=13;break;case 11:return a.next=13,r(p);case 13:return n-=p,a.prev=14,a.next=17,fetch(c,u);case 17:if(f=a.sent,200!==f.status){a.next=22;break}return a.next=21,f.json();case 21:return a.abrupt("return",a.sent);case 22:if(204!==f.status){a.next=24;break}return a.abrupt("return",!0);case 24:if(403!==f.status){a.next=28;break}return a.next=27,o({url:c,options:u,immediate:l},d+1);case 27:return a.abrupt("return",a.sent);case 28:if(404!==f.status){a.next=30;break}return a.abrupt("return",null);case 30:throw new Error("fetch request failed: ".concat(f.status));case 33:if(a.prev=33,a.t0=a["catch"](14),403!==a.t0.code){a.next=40;break}return a.next=38,o({url:c,options:u,immediate:l},d+1);case 38:return v=a.sent,a.abrupt("return",v);case 40:if(404!==a.t0.code){a.next=42;break}return a.abrupt("return",null);case 42:throw a.t0;case 43:case"end":return a.stop()}},a,null,[[14,33]])}));return function(t,e){return a.apply(this,arguments)}}();return{newFetch:o}}),_=k,C=function(t){var e="https://www.googleapis.com/drive/v3/files",n="https://www.googleapis.com/upload/drive/v3/files",r=function(){return"Bearer ".concat(t.auth.getToken().access_token)},o=function(t,e){var n={method:t,headers:{Authorization:r(),"Content-Type":"application/json"}};return e&&(n.body=JSON.stringify(e)),n},a=function(t){var n=t.name,r=t.mimeType,a=t.parentId,i="name='".concat(n,"'");r&&(i+=" and mimeType='".concat(r,"'")),a&&(i+=" and '".concat(a,"' in parents"));var s="".concat(e,"?q=").concat(i),c=o("GET");return{url:s,options:c}},i=function(t){var n=t.name,r=t.mimeType,a=t.parentId,i={name:n,mimeType:r};a&&(i.parents=[a]);var s="".concat(e),c=o("POST",i);return{url:s,options:c}},s=function(t){var n=t.fileId,r=t.name,a={name:r},i="".concat(e,"/").concat(n),s=o("PATCH",a);return{url:i,options:s}},c=function(t){var e=t.fileId,r=t.content,a="".concat(n,"/").concat(e,"?uploadType=media"),i=o("PATCH",r);return{url:a,options:i}},u=function(t){var n=t.fileId,r="".concat(e,"/").concat(n,"?alt=media"),a=o("GET");return{url:r,options:a}},l=function(t){var n=t.fileId,r="".concat(e,"/").concat(n),a=o("DELETE");return{url:r,options:a}};return{find:a,create:i,update:s,upload:c,download:u,destroy:l}},j=C,O=function(t){var e=_(),n=j(t),r=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r,o,a){var i,s,c,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=n.create({name:r,mimeType:o,parentId:a}),s=i.url,c=i.options,t.next=3,e.newFetch({url:s,options:c});case 3:return u=t.sent,t.abrupt("return",u.id);case 5:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),o=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r,o){var a,i,s,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.update({fileId:r,name:o}),i=a.url,s=a.options,t.next=3,e.newFetch({url:i,options:s});case 3:return c=t.sent,t.abrupt("return",c.name);case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),a=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r,o){var a,i,s,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.upload({fileId:r,content:o}),i=a.url,s=a.options,t.next=3,e.newFetch({url:i,options:s});case 3:return c=t.sent,t.abrupt("return",c.id);case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r,o){var a,i,s,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.find({name:r,parentId:o}),i=a.url,s=a.options,t.next=3,e.newFetch({url:i,options:s});case 3:if(c=t.sent,!(c&&c.files.length>0)){t.next=6;break}return t.abrupt("return",c.files[0].id);case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),c=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){var o,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=n.download({fileId:r}),a=o.url,i=o.options,t.next=3,e.newFetch({url:a,options:i});case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){var o,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=n.destroy({fileId:r}),a=o.url,i=o.options,t.next=3,e.newFetch({url:a,options:i});case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return{create:r,update:o,upload:a,find:s,download:c,destroy:u}},S=O,R=function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"task-man-files",a=S(t),s=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return",r);case 2:return t.next=4,a.find(o);case 4:if(r=t.sent,r){t.next=9;break}return t.next=8,a.create(o,"application/vnd.google-apps.folder");case 8:r=t.sent;case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n);case 2:return t.t0=a,t.next=5,s();case 5:return t.t1=t.sent,t.next=8,t.t0.find.call(t.t0,"index.json",t.t1);case 8:if(e=t.sent,e){t.next=22;break}return t.t2=a,t.next=13,s();case 13:return t.t3=t.sent,t.next=16,t.t2.create.call(t.t2,"index.json","application/json",t.t3);case 16:return e=t.sent,n=[],t.next=20,a.upload(e,n);case 20:t.next=25;break;case 22:return t.next=24,a.download(e);case 24:n=t.sent;case 25:return t.abrupt("return",n);case 26:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){var o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=a,t.t1="".concat(r.title,".json"),t.next=4,s();case 4:return t.t2=t.sent,t.next=7,t.t0.create.call(t.t0,t.t1,"application/json",t.t2);case 7:o=t.sent,a.upload(o,r),i={title:r.title,id:r.id,updated:r.updated,fileId:o},n.push(i),a.upload(e,n);case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){var o,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(o=n.findIndex(function(t){return t.id===r}),!(o<0)){t.next=3;break}return t.abrupt("return",!1);case 3:return i=n.splice(o,1)[0].fileId,t.next=6,a.upload(e,n);case 6:return t.next=8,a.destroy(i);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,n){var r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=n,t.t0){t.next=6;break}return t.next=4,c();case 4:t.t1=function(t){return t.id===e},t.t0=t.sent.find(t.t1).fileId;case 6:if(r=t.t0,r){t.next=9;break}return t.abrupt("return",null);case 9:return t.next=11,a.download(r);case 11:return o=t.sent,t.abrupt("return",o);case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:if(t.t0=function(t){return t.id===r.id},o=t.sent.find(t.t0),o){t.next=8;break}u(r),t.next=21;break;case 8:if(!(o.updated<r.updated)){t.next=19;break}if(r.title===o.title){t.next=13;break}return o.title=r.title,t.next=13,a.update(o.fileId,"".concat(r.title,".json"));case 13:return t.next=15,a.upload(o.fileId,r);case 15:o.updated=r.updated,a.upload(e,n),t.next=21;break;case 19:if(!(o.updated>r.updated)){t.next=21;break}return t.abrupt("return",d(null,o.fileId));case 21:return t.abrupt("return",null);case 22:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return{listAll:c,syncProject:p,loadProject:d,destroy:l}},N=R,T=function(){var t=y(),e=null,n={current:null,recents:[]},r=function(){var n=Object(i["a"])(regeneratorRuntime.mark(function n(r){var o,a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return",!1);case 2:return e=N(r),o=[],t.read().forEach(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o.push(e.syncProject(n));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),n.next=7,Promise.all(o);case 7:return a=n.sent,a.forEach(function(e){e&&t.update(e)}),n.abrupt("return",!0);case 10:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),o=function(){e=null},a=function(){return e.listAll()},s=function(){var e=t.read()[0];n.current=w(e||{})},c=function(){n.recents=t.read()},u=function(){if(e){var r=t.read();3===r.length&&e.syncProject(r[2])}var o=w({});t.update(o.save()),n.current=o,c()},l=function(){var r=Object(i["a"])(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(o=n.current.save(),t.update(o),!e){r.next=5;break}return r.next=5,e.syncProject(o);case 5:return c(),r.abrupt("return",!0);case 7:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),d=function(){var n=Object(i["a"])(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return t.destroy(r),n.next=3,e.destroy(r);case 3:c();case 4:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),p=function(){var r=Object(i["a"])(regeneratorRuntime.mark(function r(o){var a;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(o){r.next=4;break}s(),r.next=14;break;case 4:if(a=t.read().find(function(t){return t.id===o}),a||!e){r.next=9;break}return r.next=8,e.loadProject(o);case 8:a=r.sent;case 9:if(!a){r.next=13;break}n.current=w(a),r.next=14;break;case 13:return r.abrupt("return",!1);case 14:return c(),r.abrupt("return",!0);case 16:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}();return p(),{loadRemote:r,unloadRemote:o,data:n,listAll:a,create:u,save:l,load:p,destroy:d}},I=T,D=(n("6762"),n("2fdb"),n("9253"),n("55dd"),function(){var t=localStorage.taskManPrefs,e=t?JSON.parse(t):{sort:"date",onLine:!1},n=e.sort,r=e.onLine,o={sort:n,onLine:r},a=function(){localStorage.taskManPrefs=JSON.stringify(o)},i={set:function(t,e,n){return Reflect.set(t,e,n),["sort","onLine"].includes(e)&&a(),Reflect.set(t,e,n)}},s=new Proxy(o,i);return s}),$=D,V={name:"App",data:function(){return{gapiOn:!1,driveOn:!1,gapiAuth:null,projects:I(),prefs:$(),allProjects:[]}},methods:{gapiSuccess:function(){this.gapiOn=!0,this.gapiAuth=f(gapi,this.driveConnected,this.driveDisconnected)},driveConnected:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.driveOn=!0,this.projects.loadRemote(gapi),t.next=4,this.projects.listAll();case 4:this.allProjects=t.sent;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),driveDisconnected:function(){this.driveOn=!1},signIn:function(){this.gapiAuth&&this.gapiAuth.signIn()},signOut:function(){this.gapiAuth&&this.gapiAuth.signOut()}},created:function(){var t=d.script,e=d.discoveryDocs,n=d.clientId,r=d.scope,o=this.gapiSuccess;function a(){gapi.client.init({discoveryDocs:e,clientId:n,scope:r}).then(o)}t.onload=function(){gapi.load("client:auth2",a)},document.body.append(t)}},P=V,L=(n("5c0b"),n("2877")),A=n("6544"),M=n.n(A),E=n("7496"),F=Object(L["a"])(P,o,a,!1,null,null,null),J=F.exports;M()(F,{VApp:E["a"]});var B=n("8c4f"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("v-dialog",[n("v-progress-circular",{attrs:{color:"#e0e0e0"}})],1):t._e(),n("v-navigation-drawer",{attrs:{dark:"",color:"#424242",app:""},model:{value:t.drawerOn,callback:function(e){t.drawerOn=e},expression:"drawerOn"}},[n("v-sheet",{staticClass:"ttl",staticStyle:{color:"#fafafa","font-size":"30px",padding:"15px 16px 16px 24px"},attrs:{tile:"",color:"#212121"}},[t._v("\n      Task-Man\n    ")]),n("div",{staticClass:"menu-group"},[n("div",{staticClass:"ttl title"},[t._v("Projects Controls")]),n("v-btn",{staticClass:"ttl",attrs:{text:"",color:"#dcedc8"},on:{click:t.noteNew}},[t._v("new project")]),n("v-btn",{staticClass:"ttl",attrs:{text:"",color:"#fafafa"},on:{click:function(e){return t.$router.push("/browse")}}},[t._v("Browser")])],1),n("div",{staticClass:"menu-group"},[n("div",{staticClass:"ttl title"},[t._v("Recent Projects")]),t._l(t.recents,function(e,r){return n("div",{key:r,staticClass:"body"},[n("div",{staticClass:"ttl",staticStyle:{"margin-top":"8px"},on:{click:function(n){return t.noteLoad(e.id)}}},[t._v("\n          "+t._s(e.title)+"\n          "),n("v-btn",{attrs:{small:"",icon:"",color:"#eeeeee"}},[n("v-icon",[t._v("edit")])],1)],1),n("div",[t._v("\n          "+t._s(t.showDate(e.updated))+"\n        ")])])})],2),t.gapiOn?n("div",{staticClass:"menu-group"},[n("div",{staticClass:"ttl title"},[t._v("\n        Google Drive\n      ")]),t.driveOn?n("div",{staticClass:"body"},[t._v("\n        Connected"),n("br"),t._v("\n        Status: Up-to-date\n      ")]):t._e(),t.driveOn?n("v-btn",{staticClass:"ttl",attrs:{text:"",color:"#f44336"},on:{click:function(e){return t.$emit("sign-out")}}},[t._v("\n        Disconnect\n      ")]):t._e(),t.driveOn?t._e():n("v-btn",{staticClass:"ttl",attrs:{text:"",color:"#dcedc8"},on:{click:function(e){return t.$emit("sign-in")}}},[t._v("\n        Connect\n      ")])],1):t._e()],1),n("v-app-bar",{staticStyle:{padding:"4px 16px 8px"},attrs:{"hide-on-scroll":"",color:t.drawerOn?"#212121":"#eeeeee",app:""}},[n("v-app-bar-nav-icon",{attrs:{color:"#212121"},on:{click:function(e){t.drawerOn=!t.drawerOn}}}),n("v-toolbar-title",{staticStyle:{"font-size":"24px",color:"#212121","padding-left":"8px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.project.title,expression:"project.title"}],staticClass:"ttl",domProps:{value:t.project.title},on:{blur:t.save,input:function(e){e.target.composing||t.$set(t.project,"title",e.target.value)}}})]),n("v-spacer"),t.drawerOn?t._e():n("span",{staticClass:"body label"},[t._v("Sort By")]),t.drawerOn?t._e():n("v-btn-toggle",{attrs:{color:"#212121"},model:{value:t.sortToggle,callback:function(e){t.sortToggle=e},expression:"sortToggle"}},[n("v-btn",{staticClass:"ttl",attrs:{height:"36"},on:{click:function(e){t.prefs.sort="date"}}},[t._v("Date")]),n("v-btn",{staticClass:"ttl",attrs:{height:"36"},on:{click:function(e){t.prefs.sort="priority"}}},[t._v("Priority")])],1)],1),n("v-content",{staticStyle:{background:"#e0e0e0",overflow:"auto","min-height":"100%"},attrs:{app:""}},[n("v-container",{staticStyle:{padding:"16px 24px 24px"},attrs:{fluid:""}},[n("div",{staticClass:"lists",style:"width: "+360*t.project.lists.length+"px;"},t._l(t.project.lists,function(e){return n("list",{key:e.id,attrs:{list:e,sort:t.prefs.sort},on:{"note-done":t.noteDone,"note-rewind":t.noteRewind,"note-del":t.noteDel,"new-update":t.save}})}),1)])],1)],1)},q=[],H=(n("28a5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-container"},[n("v-slide-x-transition",{attrs:{"hide-on-leave":""}},[t.editTitle?t._e():n("span",{staticClass:"ttl list-title",on:{click:function(e){t.editTitle=!0}}},[t._v("\n      "+t._s(t.list.title||"No Title")+"\n    ")]),t.editTitle?n("v-textarea",{staticClass:"ttl",staticStyle:{"margin-left":"24px","font-size":"24px",width:"200px"},attrs:{autofocus:"","row-height":"36","auto-grow":"",rows:"1",flat:""},on:{blur:t.saveTitle},model:{value:t.list.title,callback:function(e){t.$set(t.list,"title",e)},expression:"list.title"}}):t._e()],1),n("div",{staticClass:"note-list"},[n("v-btn",{staticStyle:{top:"-18px",right:"-2px"},attrs:{fab:"",absolute:"",color:"#fafafa",small:"",elevation:"3",width:"36",height:"36"},on:{click:function(e){return t.newNote()}}},[n("v-icon",{attrs:{color:"#616161"}},[t._v("add")])],1),t._l(t.groups,function(e,r){return n("div",{key:r,staticClass:"group"},t._l(e,function(e){return n("note",{key:e.id,attrs:{note:e},on:{delete:function(n){return t.deleteNote(e.id)},"finish-note":function(n){return t.$emit("note-done",e)},"rewind-note":function(n){return t.$emit("note-rewind",e)},"new-update":function(e){return t.$emit("new-update")}}})}),1)})],2)],1)}),G=[],X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-scroll-x-transition",{attrs:{"hide-on-leave":""}},[t.edit?t._e():n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[n("v-sheet",{staticClass:"body",staticStyle:{width:"320px","margin-right":"16px","margin-bottom":"4px",position:"relative"},attrs:{color:t.colors[t.note.color],elevation:r?2:0,tile:""},on:{click:function(e){t.edit=!0}}},[t.soon?n("div",{class:"due-soon d"+t.daysLeft}):t._e(),n("div",{staticClass:"note",style:"padding-left: "+(t.soon?8:0)+"px;"},[null!==t.note.due?n("span",{staticClass:"due-days"},[t._v("Due in "+t._s(t.daysLeft)+" days")]):t._e(),n("span",{staticClass:"note-title ttl"},[t._v(t._s(t.note.title))]),n("span",{staticClass:"note-body"},[t._v(t._s(t.note.body))])]),n("div",{staticStyle:{clear:"both"}})])]}}],null,!1,1113563368)}),t.edit?n("note-form",{attrs:{note:t.note},on:{"edit-done":t.updateNote,delete:function(e){return t.$emit("delete")},"finish-note":t.finished,"rewind-note":t.rewind}}):t._e()],1)},U=[],K=(n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{width:"100%",padding:"0",margin:"8px 0 32px"}},[n("v-sheet",{staticClass:"body",staticStyle:{width:"320px",padding:"16px"},style:"background-color: "+t.background+"; transition: background .5s;",attrs:{tile:"",elevation:"2"}},[n("v-form",{on:{submit:function(e){return t.$emit("edit-done",t.noteCopy)}}},[n("v-row",{staticStyle:{"margin-bottom":"-4px"},attrs:{"no-gutters":""}},[n("v-col",[n("v-textarea",{staticClass:"ttl",staticStyle:{"font-size":"18px"},attrs:{label:"Title","auto-grow":"",rows:"1"},model:{value:t.noteCopy.title,callback:function(e){t.$set(t.noteCopy,"title",e)},expression:"noteCopy.title"}})],1)],1),n("v-row",{staticStyle:{"margin-bottom":"-4px"},attrs:{"no-gutters":""}},[n("v-col",[n("v-textarea",{staticStyle:{"font-size":"18px"},attrs:{autofocus:"","auto-grow":"",label:"Body",rows:"1"},model:{value:t.noteCopy.body,callback:function(e){t.$set(t.noteCopy,"body",e)},expression:"noteCopy.body"}})],1)],1),n("v-row",{staticStyle:{"margin-bottom":"-24px"},attrs:{"no-gutters":""}},[n("v-col",[n("div",{staticClass:"label"},[t._v("Priority")]),n("div",{staticClass:"colors"},[n("span",{staticClass:"c0",class:{selected:0===t.noteCopy.color},on:{click:function(e){t.noteCopy.color=0}}}),n("span",{staticClass:"c1",class:{selected:1===t.noteCopy.color},on:{click:function(e){t.noteCopy.color=1}}}),n("span",{staticClass:"c2",class:{selected:2===t.noteCopy.color},on:{click:function(e){t.noteCopy.color=2}}}),n("span",{staticClass:"c3",class:{selected:3===t.noteCopy.color},on:{click:function(e){t.noteCopy.color=3}}}),n("span",{staticClass:"c4",class:{selected:4===t.noteCopy.color},on:{click:function(e){t.noteCopy.color=4}}})])]),n("v-col",[n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({staticStyle:{width:"100%",color:"#424242"},attrs:{label:"Deadline",readonly:"",clearable:"","prepend-icon":"event"},model:{value:t.noteCopy.due,callback:function(e){t.$set(t.noteCopy,"due",e)},expression:"noteCopy.due"}},r))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[n("v-date-picker",{staticClass:"ttl",attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.dateMenu=!1}},model:{value:t.noteCopy.due,callback:function(e){t.$set(t.noteCopy,"due",e)},expression:"noteCopy.due"}})],1)],1)],1),n("v-row",{staticStyle:{"padding-bottom":"12px"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{staticClass:"ttl",attrs:{text:"",color:"#b71c1c"},on:{click:function(e){return t.$emit("delete")}}},[n("v-icon",[t._v("delete")]),t._v("del\n          ")],1)],1),n("v-spacer"),n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{staticClass:"ttl",attrs:{text:"",color:"#424242"},on:{click:function(e){return t.$emit("rewind-note",t.noteCopy)}}},[t._v("\n            re"),n("v-icon",[t._v("chevron_left")])],1),n("v-btn",{staticClass:"ttl",attrs:{text:"",color:"#424242"},on:{click:function(e){return t.finished()}}},[t._v("\n            Fin"),n("v-icon",[t._v("double_arrow")])],1)],1)],1),n("v-btn",{staticStyle:{left:"140px"},attrs:{fab:"",absolute:"",color:"#fafafa",small:""},on:{click:function(e){return t.$emit("edit-done",t.noteCopy)}}},[n("v-icon",{attrs:{color:"#616161"}},[t._v("done")])],1)],1)],1)],1)}),Q=[],W={name:"NoteForm",props:["note"],data:function(){return{dateMenu:!1,colors:["#eeeeee","#b2ebf2","#dcedc8","#fff9c4","#ffe0b2"],noteCopy:Object.assign({},this.note)}},computed:{dueDate:function(){return this.noteCopy.due?this.noteCopy.due:"None"},background:function(){return this.colors[this.noteCopy.color]}},methods:{finished:function(){this.noteCopy.due=null,this.$emit("finish-note",this.noteCopy)}}},Y=W,Z=(n("1cfe"),n("8336")),tt=n("62ad"),et=n("a523"),nt=n("2e4b"),rt=n("4bd4"),ot=n("132d"),at=n("e449"),it=n("0fd9"),st=n("8dd9"),ct=n("2fa4"),ut=n("8654"),lt=n("a844"),dt=Object(L["a"])(Y,K,Q,!1,null,"c559a718",null),pt=dt.exports;M()(dt,{VBtn:Z["a"],VCol:tt["a"],VContainer:et["a"],VDatePicker:nt["a"],VForm:rt["a"],VIcon:ot["a"],VMenu:at["a"],VRow:it["a"],VSheet:st["a"],VSpacer:ct["a"],VTextField:ut["a"],VTextarea:lt["a"]});var ft={name:"Note",components:{NoteForm:pt},props:["note"],data:function(){return{colors:["#eeeeee","#b2ebf2","#dcedc8","#fff9c4","#ffe0b2"],edit:!1}},computed:{daysLeft:function(){if(null===this.note.due)return 999;var t=new Date,e=new Date(this.note.due),n=Math.ceil((e.getTime()-t.getTime())/864e5);return n>0?n:0},soon:function(){return this.daysLeft<6}},methods:{updateNote:function(t){var e=this;Object.keys(t).forEach(function(n){e.note[n]=t[n]}),this.edit=!1,this.$emit("new-update")},finished:function(t){this.updateNote(t),this.$emit("finish-note")},rewind:function(t){this.updateNote(t),this.$emit("rewind-note")}}},vt=ft,ht=(n("c62c"),n("ce87")),mt=n("0789"),gt=Object(L["a"])(vt,X,U,!1,null,"43043756",null),bt=gt.exports;M()(gt,{VHover:ht["a"],VScrollXTransition:mt["b"],VSheet:st["a"]});var wt={name:"List",props:["list","sort"],data:function(){return{editTitle:!1}},components:{Note:bt},computed:{groups:function(){var t=this,e=[];if("date"===this.sort&&(this.sortNotes(),e=[this.list.notes]),"priority"===this.sort){this.sortNotes();var n=[];[4,3,2,1,0].forEach(function(e){var r=t.list.notes.filter(function(t){return t.color===e});r.length>0&&n.push(r)}),e=n}return e}},methods:{sortNotes:function(){this.list.notes.sort(function(t,e){var n=t.due?new Date(t.due):0,r=e.due?new Date(e.due):0;return n-r})},newNote:function(){this.list.newNote(),this.$emit("new-update")},deleteNote:function(t){this.list.delNote(t),this.$emit("note-del")},saveTitle:function(){this.editTitle=!1,this.$emit("new-update")}}},xt=wt,yt=(n("355f"),Object(L["a"])(xt,H,G,!1,null,"19d13c14",null)),kt=yt.exports;M()(yt,{VBtn:Z["a"],VIcon:ot["a"],VSlideXTransition:mt["c"],VTextarea:lt["a"]});var _t={name:"Project",components:{List:kt},props:["gapiOn","driveOn","projects","prefs"],data:function(){return{loading:!1,drawerOn:null,project:{},recents:[],sortToggle:"date"===this.prefs.sort?0:1}},methods:{load:function(){var t=this;this.project=this.projects.data.current,this.recents=this.projects.data.recents.filter(function(e){return e.id!==t.project.id})},save:function(){this.project.updated=Date.now(),this.projects.save()},noteDone:function(t){this.project.noteDone(t),this.save()},noteRewind:function(t){this.project.noteDone(t,-1),this.save()},noteDel:function(){this.project.trimLists(),this.save()},noteNew:function(){this.project=this.projects.create(),this.load()},noteLoad:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.drawerOn=!1,this.save(),t.next=5,this.projects.load(e);case 5:n=t.sent,n&&this.load(),this.loading=!1;case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),showDate:function(t){var e=new Date(t),n="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");return"".concat(n[e.getMonth()]," ").concat(e.getDate())}},created:function(){this.$route.params&&this.$route.params.pid&&("new"===this.$route.params.pid?this.noteNew():this.noteLoad(this.$route.params.pid)),this.load()}},Ct=_t,jt=(n("02d8"),n("40dc")),Ot=n("5bc1"),St=n("a609"),Rt=n("a75b"),Nt=n("169a"),Tt=n("f774"),It=n("490a"),Dt=n("2a7f"),$t=Object(L["a"])(Ct,z,q,!1,null,"a03ba3b4",null),Vt=$t.exports;M()($t,{VAppBar:jt["a"],VAppBarNavIcon:Ot["a"],VBtn:Z["a"],VBtnToggle:St["a"],VContainer:et["a"],VContent:Rt["a"],VDialog:Nt["a"],VIcon:ot["a"],VNavigationDrawer:Tt["a"],VProgressCircular:It["a"],VSheet:st["a"],VSpacer:ct["a"],VToolbarTitle:Dt["a"]});var Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-content",[n("div",{staticClass:"recents"},[n("section",[n("div",{staticClass:"section-title ttl"},[t._v("Recents")]),n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[n("v-sheet",{staticClass:"sheet",attrs:{color:r?"#fafafa":"#e0e0e0",elevation:r?3:0,tile:""},on:{click:function(e){return t.$router.push("/project/new")}}},[n("p",{staticStyle:{"text-align":"center"}},[n("v-icon",{staticStyle:{"font-size":"72px",margin:"8px auto"},attrs:{color:"#212121"}},[t._v("\n                add\n              ")])],1),n("footer",{staticClass:"body",staticStyle:{"background-color":"#dcedc8"}},[t._v("\n              New Project\n            ")])])]}}])}),t._l(t.recents,function(e){return n("v-hover",{key:e.id,scopedSlots:t._u([{key:"default",fn:function(r){var o=r.hover;return[n("v-sheet",{staticClass:"sheet",attrs:{color:o?"#fafafa":"#e0e0e0",elevation:o?3:0,tile:""},on:{click:function(n){return t.$router.push("/project/"+e.id)}}},[t.dueTasks(e).length>0?n("footer",{staticClass:"due body"},[t._v("\n              "+t._s(t.dueTasks(e).length)+" Due Soon\n            ")]):t._e(),n("div",{staticClass:"ttl title"},[t._v(t._s(e.title))])])]}}],null,!0)})}),n("div",{staticStyle:{clear:"both"}})],2)]),n("div",[n("section",[n("div",{staticClass:"section-title ttl"},[t._v("Drive "+t._s(t.driveOn?"On":"Off"))]),n("div",{staticStyle:{"margin-bottom":"16px"}},[t.driveOn?n("v-btn",{attrs:{text:"",color:"#c62828"},on:{click:function(e){return t.$emit("sign-out")}}},[t._v("disconnect")]):t._e(),t.driveOn?t._e():n("v-btn",{attrs:{color:"#dcedc8"},on:{click:function(e){return t.$emit("sign-in")}}},[t._v("connect")])],1),t.driveOn?t._e():n("p",{staticClass:"body"},[t._v("\n          Connect to google drive to allow cloud save. Th\n          is app can only hold three most recent pro\n          jects in temporary storage.\n        ")]),t._l(t.allProjects,function(e){return n("v-hover",{key:e.id,scopedSlots:t._u([{key:"default",fn:function(r){var o=r.hover;return[n("v-sheet",{staticClass:"sheet",attrs:{color:o?"#fafafa":"#eeeeee",elevation:o?3:0,tile:""}},[n("footer",{staticClass:"body",class:{active:o},staticStyle:{"background-color":"#fff9c4"}},[t._v("\n              "+t._s(t.showDate(e.updated))+"\n              "),o?n("v-btn",{staticClass:"ttl",attrs:{color:"#212121",text:""},on:{click:function(n){return t.$router.push("/project/"+e.id)}}},[t._v("open")]):t._e(),o?n("v-btn",{staticClass:"ttl",attrs:{color:"#c62828",text:""},on:{click:function(n){return t.projects.destroy(e.id)}}},[t._v("delete")]):t._e()],1),n("div",{staticClass:"ttl title"},[t._v(t._s(e.title))])])]}}],null,!0)})}),n("div",{staticStyle:{clear:"both"}})],2)])])],1)},Lt=[],At={name:"Browser",props:["projects","driveOn","prefs","gapiOn","allProjects"],data:function(){return{recents:this.projects.data.recents}},methods:{dueTasks:function(t){var e=[];return t.lists.forEach(function(t){t.notes.forEach(function(t){var n=t.due?new Date(t.due):null;n&&n-Date.now()<432e6&&e.push({title:t.title,due:t.due})})}),e},showDate:function(t){var e=new Date(t),n="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");return"".concat(n[e.getMonth()]," ").concat(e.getDate())}}},Mt=At,Et=(n("ebc2"),Object(L["a"])(Mt,Pt,Lt,!1,null,"4ca964ba",null)),Ft=Et.exports;M()(Et,{VBtn:Z["a"],VContent:Rt["a"],VHover:ht["a"],VIcon:ot["a"],VSheet:st["a"]}),r["a"].use(B["a"]);var Jt=new B["a"]({mode:"history",base:"/task-man/",routes:[{path:"/",name:"home",component:Ft},{path:"/project/:pid",name:"project",component:Vt},{path:"/browse",name:"browse",component:Ft}]}),Bt=n("2f62");r["a"].use(Bt["a"]);var zt=new Bt["a"].Store({state:{},mutations:{},actions:{}}),qt=n("f309");r["a"].use(qt["a"]);var Ht=new qt["a"]({theme:{themes:{light:{primary:"#212121",secondary:"#424242",accent:"#616161",error:"#c62828",info:"#dcedc8",success:"#b2ebf2",warning:"#b71c1c"}}},icons:{iconfont:"md"}});r["a"].config.productionTip=!1,new r["a"]({router:Jt,store:zt,vuetify:Ht,render:function(t){return t(J)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("6879"),o=n.n(r);o.a},6879:function(t,e,n){},9887:function(t,e,n){},b5c4:function(t,e,n){},c62c:function(t,e,n){"use strict";var r=n("b5c4"),o=n.n(r);o.a},ebc2:function(t,e,n){"use strict";var r=n("9887"),o=n.n(r);o.a}});
//# sourceMappingURL=app.bfb83400.js.map